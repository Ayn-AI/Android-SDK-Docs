
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Android SDK API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;java&quot;,&quot;kotlin&quot;,&quot;gradle&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="kotlin">kotlin</a>
              <a href="#" data-language-name="gradle">gradle</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#setup" class="toc-h1 toc-link" data-title="Setup">Setup</a>
          </li>
          <li>
            <a href="#initialisation" class="toc-h1 toc-link" data-title="Initialisation">Initialisation</a>
          </li>
          <li>
            <a href="#verify" class="toc-h1 toc-link" data-title="Verify">Verify</a>
          </li>
          <li>
            <a href="#verifyapi" class="toc-h1 toc-link" data-title="VerifyApi">VerifyApi</a>
          </li>
          <li>
            <a href="#verifycore" class="toc-h1 toc-link" data-title="VerifyCore">VerifyCore</a>
          </li>
          <li>
            <a href="#verifynfc" class="toc-h1 toc-link" data-title="VerifyNfc">VerifyNfc</a>
          </li>
          <li>
            <a href="#verifyface" class="toc-h1 toc-link" data-title="VerifyFace">VerifyFace</a>
          </li>
          <li>
            <a href="#verifylive" class="toc-h1 toc-link" data-title="VerifyLive">VerifyLive</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='mailto:hasan@eyn.vision'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Eyn Android SDK!</p>

<p>These API docs contain all of the relevant information to get you started with the SDK.</p>

<p>In an effort to make the SDK as extensible and flexible as possible, it&#39;s split into the following 6 layers:</p>

<ul>
<li><strong>verify</strong> - UI layer that handles the verification process for you with out own UI</li>
<li><strong>verifyApi</strong> - Handles the communication between an app and our API</li>
<li><strong>verifyCore</strong> - Ui elements that are common across the components</li>
<li><strong>verifyNfc</strong> - All NFC related tasks</li>
<li><strong>verifyFace</strong> - Facial recongition aspects</li>
<li><strong>verifyLive</strong> - TBC</li>
</ul>

<p>You will need to discuss internally and with stakeholders, to determine which components you will need to use. We foresee the following two uses:</p>

<ol>
<li><strong>verify</strong> - Let Eyn handle the entire verification process with our Ui, in this case just use</li>
<li><strong>verify{module}</strong> - Implement the verification process yourself, this will require different degress of the other components. Depending on your level of verification</li>
</ol>
<h1 id='setup'>Setup</h1>
<blockquote>
<p>Add Jitpack to your <strong>projects</strong> build.gradle file</p>
</blockquote>
<pre class="highlight gradle tab-gradle"><code><span class="k">allprojects</span> <span class="o">{</span>
 <span class="k">repositories</span> <span class="o">{</span>
    <span class="n">jcenter</span><span class="o">()</span>
    <span class="n">maven</span> <span class="o">{</span> <span class="n">url</span> <span class="s2">"https://jitpack.io"</span> <span class="o">}</span>
 <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>We use Jitpack to distribute our SDK, to make updating and versioning easier. </p>

<blockquote>
<p>Add the SDK to your apps build.gradle dependancy list</p>
</blockquote>
<pre class="highlight gradle tab-gradle"><code><span class="k">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="s1">'com.github.Ayn-AI.IDVerify:verify:1.0.2'</span>
    <span class="n">compile</span> <span class="s1">'com.github.Ayn-AI.IDVerify:verifyApi:1.0.2'</span>
    <span class="n">compile</span> <span class="s1">'com.github.Ayn-AI.IDVerify:verifyCore:1.0.2'</span>
    <span class="n">compile</span> <span class="s1">'com.github.Ayn-AI.IDVerify:verifyFace:1.0.2'</span>
    <span class="n">compile</span> <span class="s1">'com.github.Ayn-AI.IDVerify:verifyNfc:1.0.2'</span>
    <span class="n">compile</span> <span class="s1">'com.github.Ayn-AI.IDVerify:verifyLive:1.0.2'</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Gradle dependancy resolution</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>gradle app:dependencies

or

./gradlew app:dependencies
</code></pre>
<p>If there is a problem with a clashing dependancy then use the Gralde dependancy tree to discover which is clashing and alert Eyn if there is a problem when you remove it.</p>
<h1 id='initialisation'>Initialisation</h1>
<blockquote>
<p>Initialise SDK</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code><span class="n">Verify</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="s">"your-api-key"</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Verify</span><span class="o">.</span><span class="na">Companion</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="s">"your-api-key"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Initialise SDK with debug</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code><span class="n">Verify</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="s">"your-api-key"</span><span class="p">,</span> <span class="kd">object</span> <span class="err">: </span><span class="nc">LicenceListener</span> <span class="p">{</span>
        <span class="k">override</span> <span class="k">fun</span> <span class="nf">started</span><span class="p">()</span> <span class="p">{</span>

        <span class="p">}</span>

        <span class="k">override</span> <span class="k">fun</span> <span class="nf">failed</span><span class="p">(</span><span class="n">throwable</span><span class="p">:</span> <span class="n">Throwable</span><span class="p">)</span> <span class="p">{</span>

        <span class="p">}</span>

        <span class="k">override</span> <span class="k">fun</span> <span class="nf">success</span><span class="p">()</span> <span class="p">{</span>

        <span class="p">}</span>
      <span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Verify</span><span class="o">.</span><span class="na">Companion</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="s">"your-api-key"</span><span class="o">,</span> <span class="k">new</span> <span class="n">LicenceListener</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">started</span><span class="o">()</span> <span class="o">{</span>

        <span class="o">}</span>

        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">failed</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="n">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span>

        <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">success</span><span class="o">()</span> <span class="o">{</span>

        <span class="o">}</span>
      <span class="o">});</span>
</code></pre>
<p>You must initialise the SDK with your API Key provided by Eyn before you can use the SDK, otherwise it <strong>will</strong> throw an Exception.</p>

<p>This process, does have a callback to make sure the process has completed before you&#39;re able to proceed. It should be a very quick process, but a network call is required.</p>
<h1 id='verify'>Verify</h1>
<blockquote>
<p>Set the email address</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code><span class="n">IdentitySession</span><span class="p">.</span><span class="n">getInstance</span><span class="p">().</span><span class="n">email</span> <span class="p">=</span> <span class="s">"email@address.com"</span><span class="p">;</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">IdentitySession</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"email@address.com"</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Show the Tutorial Screens (handles entire flow)</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code><span class="kd">val</span> <span class="py">intent</span> <span class="p">=</span> <span class="n">Intent</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">TutorialActivity</span><span class="o">::</span><span class="k">class</span><span class="p">.</span><span class="n">java</span><span class="p">)</span>
<span class="n">startActivity</span><span class="p">(</span><span class="n">intent</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">TutorialActivity</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre>
<blockquote>
<p>Verification - Success / Failure</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code><span class="n">Success</span> <span class="p">=</span> <span class="n">ApiResults</span><span class="p">.</span><span class="n">Codes</span><span class="p">.</span><span class="n">SUCCESS</span>
<span class="n">Failure</span> <span class="p">=</span> <span class="n">ApiResults</span><span class="p">.</span><span class="n">Codes</span><span class="p">.</span><span class="n">FAILURE</span>

<span class="k">if</span> <span class="p">(</span><span class="n">intent</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">intent</span><span class="p">.</span><span class="n">getIntExtra</span><span class="p">(</span><span class="n">IntentUtils</span><span class="p">.</span><span class="n">EXTRA_VERIFY_COMPLETE</span><span class="p">,</span>
    <span class="n">ApiResults</span><span class="p">.</span><span class="n">Codes</span><span class="p">.</span><span class="n">GENERIC</span><span class="p">)</span> <span class="p">==</span> <span class="n">ApiResults</span><span class="p">.</span><span class="n">Codes</span><span class="p">.</span><span class="n">SUCCESS</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Verification passed
</span><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Verification failed
</span><span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">Success</span> <span class="o">=</span> <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">SUCCESS</span>
<span class="n">Failure</span> <span class="o">=</span> <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">FAILURE</span>

<span class="nf">if</span> <span class="o">(</span><span class="n">getIntent</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="n">IntentUtils</span><span class="o">.</span><span class="na">EXTRA_VERIFY_COMPLETE</span><span class="o">,</span> 
    <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">GENERIC</span><span class="o">)</span> <span class="o">==</span> <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Verification passed</span>
<span class="o">}</span><span class="k">else</span><span class="o">{</span>
    <span class="c1">// Verification failed</span>
<span class="o">}</span>
</code></pre>
<p>You can use Verify to handle the entire Ui flow, in order to complete a verification of the user.</p>

<p>In order to start the flow an email address will need to set into the SDK, this is so that a report can be sent to the user(or yourselves) depending on the Use Case</p>

<p>The happy user flow, is as follows:</p>

<ol>
<li>Tutorial Activity</li>
<li>3X Product Information Screens</li>
<li>How To - Scan Identity</li>
<li>User actually scans Identity</li>
<li>How To - NFC Read from Identity</li>
<li>Data is read from Identity</li>
<li>Identity Info is show to the user</li>
<li>How To - Selfie</li>
<li>Camera for selfie

<ul>
<li>Looks for users Face</li>
<li>User smiles</li>
<li>Waits for 2 seconds of continuous smiling</li>
</ul></li>
<li>Verification Process</li>
<li>Verified screen shown</li>
<li>Stops process and returns to previous Activity</li>
</ol>
<h1 id='verifyapi'>VerifyApi</h1>
<blockquote>
<p>Verifying with Ui</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">VerifyActivity</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre>
<blockquote>
<p>Retrieve Result</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="k">if</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="n">IntentUtils</span><span class="o">.</span><span class="na">EXTRA_VERIFY_COMPLETE</span><span class="o">,</span> <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">GENERIC</span><span class="o">)</span>
    <span class="o">==</span> <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">SUCCESS</span><span class="o">))</span>
    <span class="o">{</span>
        <span class="c1">// Verify was successful</span>
    <span class="o">}</span>
</code></pre>
<blockquote>
<p>Start a Verification</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code>
<span class="kd">private</span> <span class="kt">void</span> <span class="nf">initialVerification</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">startVerification</span><span class="o">(</span><span class="k">new</span> <span class="n">UploadVerification</span><span class="o">(</span>
        <span class="n">IdentitySession</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(),</span>
        <span class="k">new</span> <span class="nf">IdentityClient</span><span class="o">()));</span>
<span class="o">}</span>


<span class="kd">private</span> <span class="kt">void</span> <span class="nf">startVerification</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="n">UploadVerification</span> <span class="n">uploadVerification</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">FaceBiometry</span> <span class="n">faceBiometry</span> <span class="o">=</span> <span class="n">identitySession</span><span class="o">.</span><span class="na">getUserIdentity</span><span class="o">().</span><span class="na">getFaceBio</span><span class="o">();</span>
    <span class="n">IdentityDocument</span> <span class="n">document</span> <span class="o">=</span> <span class="n">identitySession</span><span class="o">.</span><span class="na">getUserIdentity</span><span class="o">().</span><span class="na">getIdDoc</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">sessionJson</span> <span class="o">=</span> <span class="n">identitySession</span><span class="o">.</span><span class="na">getIdentityCheckSessionJSON</span><span class="o">();</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">faceBiometry</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">document</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">TextUtils</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">sessionJson</span><span class="o">))</span> <span class="o">{</span>
        <span class="c1">// Something is wrong, show your error state</span>
    <span class="o">}</span>

    <span class="cm">/*
    verifyUser returns a Disposable, highly recommended that you use with one appropriatly
    */</span>
    <span class="n">faceBiometry</span><span class="o">.</span><span class="na">verifyUser</span><span class="o">(</span>
        <span class="n">getApplicationContext</span><span class="o">(),</span><span class="c1">//</span>
        <span class="n">uploadVerification</span><span class="o">,</span><span class="c1">//</span>
        <span class="n">document</span><span class="o">.</span><span class="na">getIdentityImage</span><span class="o">(),</span>
        <span class="n">document</span><span class="o">.</span><span class="na">getScanOfMRZ</span><span class="o">(),</span>
        <span class="n">sessionJson</span><span class="o">,</span>
        <span class="n">observer</span> <span class="c1">// Observer for the result</span>
        <span class="o">);</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Observer Result</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="k">return</span> <span class="k">new</span> <span class="n">VerifyResponse</span><span class="o">()</span> <span class="o">{</span>
    <span class="nd">@Override</span> <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onStart</span><span class="o">();</span>
        <span class="c1">// Process has begun</span>
    <span class="o">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">verifySuccess</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// User was verified</span>
    <span class="o">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">verifyFailure</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// The user isn't verified</span>
    <span class="o">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">verifyError</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Likely in the form of a VerifyException</span>
    <span class="o">}</span>

    <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">verifyComplete</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Process has completed</span>
    <span class="o">}</span>
</code></pre>
<p>In order to verify a user, currently we need to connect to our API to run the complex facial matching.</p>

<p>To do this you can do either of the following:</p>

<ol>
<li>Use our supplied verification process</li>
<li>Implement your own, using the SDK</li>
</ol>

<p>When using our process, it&#39;s as simple as calling the VerifyActivity. This will handle all of the process, by calling the relevant identity information. All the data must be present otherwise the SDK will fail with an exception.</p>

<p>If you would like to manage the process yourself, we have provided some useful functionality that relies on Reactive principles.</p>

<p>The process is as follows:</p>

<ol>
<li>Create an UploadVerification object. This creates an OkHttp3 client</li>
<li>Check that the relevant information has been submitted to the IdentitySession, showing an error if it hasn&#39;t</li>
<li>Start a request to verify the user, that can be observed and reacted on when a result is returned</li>
</ol>
<h1 id='verifycore'>VerifyCore</h1>
<blockquote>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code></code></pre>
<p>The Verify uses are entire UI flow to complete a verification of a user.</p>
<h1 id='verifynfc'>VerifyNfc</h1>
<blockquote>
<p>Start NFC Scan</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="n">startActivityForResult</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">DetectingNFCDataActivity</span><span class="o">.</span><span class="na">class</span><span class="o">),</span> <span class="n">REQUEST_CODE</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Scan Result</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">REQUEST_ID_READ</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">resultCode</span> <span class="o">==</span> <span class="n">ApiResults</span><span class="o">.</span><span class="na">Codes</span><span class="o">.</span><span class="na">RESULT_ID_READ_COMPLETE</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Result successful</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="c1">// Result unsuccessful</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p>Show User Info (using Verify Ui)</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">DisplayReadDataActivity</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
</code></pre>
<blockquote>
<p>Show User Info</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="n">IdentityDocument</span> <span class="n">identityDocument</span> <span class="o">=</span>
    <span class="n">IdentitySession</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getUserIdentity</span><span class="o">().</span><span class="na">getIdDoc</span><span class="o">();</span>

<span class="n">userName</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
<span class="n">userGender</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">.</span><span class="na">getGender</span><span class="o">());</span>
<span class="n">userNationality</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">.</span><span class="na">getNationality</span><span class="o">());</span>
<span class="n">userBirthPlace</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">.</span><span class="na">getIssuingState</span><span class="o">());</span>

<span class="c1">// We provide a formatter, or you can use the original value</span>
<span class="n">userDoB</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span>
    <span class="n">IdentityDocument</span><span class="o">.</span><span class="na">getFormattedDate</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">.</span><span class="na">getDateOfBirth</span><span class="o">()));</span>
<span class="n">userCardExpiry</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span>
    <span class="n">IdentityDocument</span><span class="o">.</span><span class="na">getFormattedDate</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">.</span><span class="na">getExpirationDate</span><span class="o">()));</span>

<span class="c1">// Required to use the image utilities, to display the image from the chip</span>
<span class="n">userImage</span><span class="o">.</span><span class="na">setImageBitmap</span><span class="o">(</span>
    <span class="n">ImageUtils</span><span class="o">.</span><span class="na">identityFaceImageToBitmap</span><span class="o">(</span><span class="n">identityDocument</span><span class="o">));</span>
</code></pre>
<p>Captures the users face (selfie).</p>

<p>Face detection, is used to make sure that the users face is fully visible and that all landmarks on the users face is visible.</p>

<p>The following results are as follows:</p>

<ol>
<li>RESULT_FACE_SCAN_SUCCESS</li>
<li>RESULT_FACE_SCAN_FAILED</li>
</ol>

<p>Once the information has been retrived there are two ways to display the data:</p>

<ol>
<li>Using the provided Verify UI</li>
<li>Implementing the Ui, by accessing <code>IdentityDocument</code> directly</li>
</ol>
<h1 id='verifyface'>VerifyFace</h1>
<blockquote>
<p>Take a Selfie</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="n">startActivityForResult</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">FaceDetectionActivity</span><span class="o">.</span><span class="na">class</span><span class="o">),</span> <span class="n">REQUEST_CODE</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>Selfie Result</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code></code></pre><pre class="highlight java tab-java"><code><span class="k">if</span> <span class="o">(</span><span class="n">requestCode</span> <span class="o">==</span> <span class="n">REQUEST_CODE</span> <span class="o">&amp;&amp;</span> <span class="n">resultCode</span> <span class="o">==</span> <span class="n">RESULT_FACE_SCAN_SUCCESS</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Selfie was captured successfully</span>
<span class="o">}</span>
</code></pre>
<p>Captures the users face (selfie).</p>

<p>Face detection, is used to make sure that the users face is fully visible and that all landmarks on the users face is visible.</p>

<p>The following results are as follows:</p>

<ol>
<li>RESULT_FACE_SCAN_SUCCESS</li>
<li>RESULT_FACE_SCAN_FAILED</li>
</ol>
<h1 id='verifylive'>VerifyLive</h1>
<blockquote>
<p>Live Detection</p>
</blockquote>
<pre class="highlight kotlin tab-kotlin"><code><span class="n">TBC</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">TBC</span>
</code></pre>
<p>Work in progress and has not yet been defined.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="kotlin">kotlin</a>
                <a href="#" data-language-name="gradle">gradle</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
